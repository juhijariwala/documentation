<!DOCTYPE HTML><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Go Agent | Go Developer Documentation</title><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta name="description" content=""><meta name="generator" content="GitBook 2.2.0"><meta name="HandheldFriendly" content="true"/><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png"><link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="../gitbook/style.css"><link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-anchors/plugin.css"><link rel="next" href="../4/4.4.html"/><link rel="prev" href="../4/4.2.html"/></head><body><div class="book" data-level="4.3" data-basepath=".." data-revision="Tue Feb 16 2016 18:31:24 GMT+0530 (IST)"><div class="book-summary"><div class="book-search"><input placeholder="Type to search" class="form-control"/></div><ul class="summary"><li><a href="http://www.go.cd" target="blank" class="custom-link">Home</a></li><li><a href="https://github.com/gocd/documentation/" target="blank" class="custom-link">Contribute</a></li><li class="divider"></li><li class="chapter" data-level="0" data-path="index.html"><a href="../index.html"><i class="fa fa-check"></i> Introduction</a></li><li class="chapter" data-level="1" data-path="1/1.1.html"><a href="../1/1.1.html"><i class="fa fa-check"></i> <b>1.</b> Concepts in Go</a><ul class="articles"><li class="chapter" data-level="1.1" data-path="1/1.1.html"><a href="../1/1.1.html"><i class="fa fa-check"></i> <b>1.1.</b> Domain</a></li><li class="chapter" data-level="1.2"><span><b>1.2.</b> Implementation</span></li></ul></li><li class="chapter" data-level="2" data-path="2/2.1.html"><a href="../2/2.1.html"><i class="fa fa-check"></i> <b>2.</b> Getting Started</a><ul class="articles"><li class="chapter" data-level="2.1" data-path="2/2.1.html"><a href="../2/2.1.html"><i class="fa fa-check"></i> <b>2.1.</b> Setting up your development environment</a></li><li class="chapter" data-level="2.2" data-path="2/2.2.html"><a href="../2/2.2.html"><i class="fa fa-check"></i> <b>2.2.</b> How to go about making changes to the codebase</a></li><li class="chapter" data-level="2.3" data-path="2/2.3.html"><a href="../2/2.3.html"><i class="fa fa-check"></i> <b>2.3.</b> How to add a configuration migration</a></li><li class="chapter" data-level="2.4" data-path="2/2.4.html"><a href="../2/2.4.html"><i class="fa fa-check"></i> <b>2.4.</b> How to add a database migration</a></li></ul></li><li class="chapter" data-level="3" data-path="3/3.1.html"><a href="../3/3.1.html"><i class="fa fa-check"></i> <b>3.</b> Technology Stack</a><ul class="articles"><li class="chapter" data-level="3.1" data-path="3/3.1.html"><a href="../3/3.1.html"><i class="fa fa-check"></i> <b>3.1.</b> Plugins Architecture - OSGi</a></li><li class="chapter" data-level="3.2" data-path="3/3.2.html"><a href="../3/3.2.html"><i class="fa fa-check"></i> <b>3.2.</b> Object Relation Mapping (ORM) - Hibernate &amp; IBatis</a></li><li class="chapter" data-level="3.3"><span><b>3.3.</b> Caching - EhCache</span></li><li class="chapter" data-level="3.4" data-path="3/3.4.html"><a href="../3/3.4.html"><i class="fa fa-check"></i> <b>3.4.</b> Dependency Injection (DI) - Spring</a></li><li class="chapter" data-level="3.5"><span><b>3.5.</b> Model View Controller (MVC)</span><ul class="articles"><li class="chapter" data-level="3.5.1"><span><b>3.5.1.</b> Models - Java</span></li><li class="chapter" data-level="3.5.2"><span><b>3.5.2.</b> Controllers - Servlets &amp; Rails</span></li><li class="chapter" data-level="3.5.3"><span><b>3.5.3.</b> Views - Rails &amp; Velocity</span></li></ul></li><li class="chapter" data-level="3.6" data-path="3/3.6.html"><a href="../3/3.6.html"><i class="fa fa-check"></i> <b>3.6.</b> User Interface (UI) - jQuery &amp; Prototype, SCSS, HTML</a></li><li class="chapter" data-level="3.7"><span><b>3.7.</b> Build Tool - Buildr</span></li></ul></li><li class="chapter" data-level="4" data-path="4/4.1.html"><a href="../4/4.1.html"><i class="fa fa-check"></i> <b>4.</b> Architecture of Go</a><ul class="articles"><li class="chapter" data-level="4.1" data-path="4/4.1.html"><a href="../4/4.1.html"><i class="fa fa-check"></i> <b>4.1.</b> Overview</a></li><li class="chapter" data-level="4.2" data-path="4/4.2.html"><a href="../4/4.2.html"><i class="fa fa-check"></i> <b>4.2.</b> Go Server</a><ul class="articles"><li class="chapter" data-level="4.2.1" data-path="4/4.2.html"><span><b>4.2.1.</b> Configuration Management</span><ul class="articles"><li class="chapter" data-level="4.2.1.1" data-path="4/4.2.html"><span><b>4.2.1.1.</b> XSD &amp; XML</span></li><li class="chapter" data-level="4.2.1.2" data-path="4/4.2.html"><span><b>4.2.1.2.</b> Schema Migration</span></li><li class="chapter" data-level="4.2.1.3" data-path="4/4.2.html"><span><b>4.2.1.3.</b> Config Repository</span></li><li class="chapter" data-level="4.2.1.4" data-path="4/4.2.html"><span><b>4.2.1.4.</b> Config Merge</span></li><li class="chapter" data-level="4.2.1.5" data-path="4/4.2.html"><span><b>4.2.1.5.</b> Config Diff</span></li></ul></li><li class="chapter" data-level="4.2.2" data-path="4/4.2.html"><span><b>4.2.2.</b> Database Management</span><ul class="articles"><li class="chapter" data-level="4.2.2.1" data-path="4/4.2.html"><span><b>4.2.2.1.</b> Schema</span></li><li class="chapter" data-level="4.2.2.2" data-path="4/4.2.html"><span><b>4.2.2.2.</b> Migration - DBDeploy</span></li><li class="chapter" data-level="4.2.2.3" data-path="4/4.2.html"><span><b>4.2.2.3.</b> Backup</span></li></ul></li><li class="chapter" data-level="4.2.3" data-path="4/4.2.html"><span><b>4.2.3.</b> Material Update Sub System</span><ul class="articles"><li class="chapter" data-level="4.2.3.1" data-path="4/4.2.html"><span><b>4.2.3.1.</b> Material Fingerprint &amp; Flyweights</span></li><li class="chapter" data-level="4.2.3.2" data-path="4/4.2.html"><span><b>4.2.3.2.</b> Supported Materials</span></li></ul></li><li class="chapter" data-level="4.2.4" data-path="4/4.2.html"><span><b>4.2.4.</b> Build Cause Production</span></li><li class="chapter" data-level="4.2.5" data-path="4/4.2.html"><span><b>4.2.5.</b> Pipeline Scheduling</span></li><li class="chapter" data-level="4.2.6" data-path="4/4.2.html"><span><b>4.2.6.</b> Work Assignment</span><ul class="articles"><li class="chapter" data-level="4.2.6.1" data-path="4/4.2.html"><span><b>4.2.6.1.</b> Resource &amp; Environment Mapping</span></li></ul></li><li class="chapter" data-level="4.2.7" data-path="4/4.2.html"><span><b>4.2.7.</b> Artifact Management</span></li><li class="chapter" data-level="4.2.8" data-path="4/4.2.html"><span><b>4.2.8.</b> User Management</span><ul class="articles"><li class="chapter" data-level="4.2.8.1" data-path="4/4.2.html"><span><b>4.2.8.1.</b> Authentication Management</span></li><li class="chapter" data-level="4.2.8.2" data-path="4/4.2.html"><span><b>4.2.8.2.</b> Enable, disable &amp; delete users</span></li><li class="chapter" data-level="4.2.8.3" data-path="4/4.2.html"><span><b>4.2.8.3.</b> User Role Management</span></li></ul></li><li class="chapter" data-level="4.2.9" data-path="4/4.2.html"><span><b>4.2.9.</b> Agent Management</span></li><li class="chapter" data-level="4.2.10" data-path="4/4.2.html"><span><b>4.2.10.</b> UI Architecture</span><ul class="articles"><li class="chapter" data-level="4.2.10.1" data-path="4/4.2.html"><span><b>4.2.10.1.</b> Markup : HTML</span></li><li class="chapter" data-level="4.2.10.2" data-path="4/4.2.html"><span><b>4.2.10.2.</b> Styling: CSS, SASS</span></li><li class="chapter" data-level="4.2.10.3" data-path="4/4.2.html"><span><b>4.2.10.3.</b> Scripting : JavaScript, jQuery and Prototype</span></li></ul></li><li class="chapter" data-level="4.2.11" data-path="4/4.2.html"><span><b>4.2.11.</b> APIs, CCTray &amp; Feeds</span></li></ul></li><li class="chapter active" data-level="4.3" data-path="4/4.3.html"><a href="../4/4.3.html"><i class="fa fa-check"></i> <b>4.3.</b> Go Agent</a><ul class="articles"><li class="chapter" data-level="4.3.1" data-path="4/4.3.html"><span><b>4.3.1.</b> Overview</span></li><li class="chapter" data-level="4.3.2" data-path="4/4.3.html"><span><b>4.3.2.</b> Bootstrapper</span></li><li class="chapter" data-level="4.3.3" data-path="4/4.3.html"><span><b>4.3.3.</b> Launcher</span></li><li class="chapter" data-level="4.3.4" data-path="4/4.3.html"><span><b>4.3.4.</b> Agent</span></li></ul></li><li class="chapter" data-level="4.4" data-path="4/4.4.html"><a href="../4/4.4.html"><i class="fa fa-check"></i> <b>4.4.</b> Common</a><ul class="articles"><li class="chapter" data-level="4.4.1" data-path="4/4.4.1.html"><a href="../4/4.4.1.html"><i class="fa fa-check"></i> <b>4.4.1.</b> Plugin Architecture</a></li><li class="chapter" data-level="4.4.2"><span><b>4.4.2.</b> [Agent - Server Communication](</span></li></ul></li><li class="chapter" data-level="4.5" data-path="4/4.5.html"><a href="../4/4.5.html"><i class="fa fa-check"></i> <b>4.5.</b> Build Infrastructure</a><ul class="articles"><li class="chapter" data-level="4.5.1" data-path="4/4.5.html"><span><b>4.5.1.</b> Build, Test, Package</span><ul class="articles"><li class="chapter" data-level="4.5.1.1" data-path="4/4.5.html"><span><b>4.5.1.1.</b> Maven modules</span></li><li class="chapter" data-level="4.5.1.2" data-path="4/4.5.html"><span><b>4.5.1.2.</b> Documentation Creation</span></li><li class="chapter" data-level="4.5.1.3" data-path="4/4.5.html"><span><b>4.5.1.3.</b> Pom conventions</span></li><li class="chapter" data-level="4.5.1.4" data-path="4/4.5.html"><span><b>4.5.1.4.</b> Jar Packaging</span></li><li class="chapter" data-level="4.5.1.5" data-path="4/4.5.html"><span><b>4.5.1.5.</b> TLB integration</span></li></ul></li><li class="chapter" data-level="4.5.2" data-path="4/4.5.html"><span><b>4.5.2.</b> Installer Creation</span><ul class="articles"><li class="chapter" data-level="4.5.2.1" data-path="4/4.5.html"><span><b>4.5.2.1.</b> Zip</span></li><li class="chapter" data-level="4.5.2.2" data-path="4/4.5.html"><span><b>4.5.2.2.</b> RPM</span></li><li class="chapter" data-level="4.5.2.3" data-path="4/4.5.html"><span><b>4.5.2.3.</b> Debian</span></li><li class="chapter" data-level="4.5.2.4" data-path="4/4.5.html"><span><b>4.5.2.4.</b> Windows</span></li><li class="chapter" data-level="4.5.2.5" data-path="4/4.5.html"><span><b>4.5.2.5.</b> Mac OS X</span></li><li class="chapter" data-level="4.5.2.6" data-path="4/4.5.html"><span><b>4.5.2.6.</b> Solaris</span></li></ul></li></ul></li></ul></li><li class="chapter" data-level="5" data-path="5/5.1.html"><a href="../5/5.1.html"><i class="fa fa-check"></i> <b>5.</b> Features</a><ul class="articles"><li class="chapter" data-level="5.1" data-path="5/5.1.html"><a href="../5/5.1.html"><i class="fa fa-check"></i> <b>5.1.</b> Dashboard</a><ul class="articles"><li class="chapter" data-level="5.1.1" data-path="5/5.1.html"><span><b>5.1.1.</b> Personalise</span></li><li class="chapter" data-level="5.1.2" data-path="5/5.1.html"><span><b>5.1.2.</b> Search</span></li><li class="chapter" data-level="5.1.3" data-path="5/5.1.html"><span><b>5.1.3.</b> Pipeline Group(s)</span></li><li class="chapter" data-level="5.1.4" data-path="5/5.1.html"><span><b>5.1.4.</b> Pipeline(s) and Ordering of pipeline instances</span></li><li class="chapter" data-level="5.1.5" data-path="5/5.1.html"><span><b>5.1.5.</b> Active Pipelines</span></li></ul></li><li class="chapter" data-level="5.2" data-path="5/5.2.html"><a href="../5/5.2.html"><i class="fa fa-check"></i> <b>5.2.</b> Fan-in</a><ul class="articles"><li class="chapter" data-level="5.2.1" data-path="5/5.2.html"><span><b>5.2.1.</b> Overview</span></li><li class="chapter" data-level="5.2.2" data-path="5/5.2.html"><span><b>5.2.2.</b> Pipeline Timeline</span></li><li class="chapter" data-level="5.2.3" data-path="5/5.2.html"><span><b>5.2.3.</b> Algorithm</span></li><li class="chapter" data-level="5.2.4" data-path="5/5.2.html"><span><b>5.2.4.</b> Corner Cases</span></li><li class="chapter" data-level="5.2.5" data-path="5/5.2.html"><span><b>5.2.5.</b> Extensions</span></li></ul></li><li class="chapter" data-level="5.3" data-path="5/5.3.html"><a href="../5/5.3.html"><i class="fa fa-check"></i> <b>5.3.</b> Value Stream Map</a><ul class="articles"><li class="chapter" data-level="5.3.1" data-path="5/5.3.html"><span><b>5.3.1.</b> Overview</span></li><li class="chapter" data-level="5.3.2" data-path="5/5.3.html"><span><b>5.3.2.</b> Layer Assignment</span></li><li class="chapter" data-level="5.3.3" data-path="5/5.3.html"><span><b>5.3.3.</b> Dummy Node Creation</span></li><li class="chapter" data-level="5.3.4" data-path="5/5.3.&lt;md id=&quot;edge-cross-mini&quot;&gt;&lt;/md&gt;mization.html"><span><b>5.3.4.</b> Edge Cross Minimisation</span></li><li class="chapter" data-level="5.3.5" data-path="5/5.3.html"><span><b>5.3.5.</b> Corner Cases</span></li><li class="chapter" data-level="5.3.6" data-path="5/5.3.html"><span><b>5.3.6.</b> Extensions</span></li></ul></li><li class="chapter" data-level="5.4" data-path="5/5.4.html"><a href="../5/5.4.html"><i class="fa fa-check"></i> <b>5.4.</b> Compare Pipeline</a><ul class="articles"><li class="chapter" data-level="5.4.1" data-path="5/5.4.html"><span><b>5.4.1.</b> Overview</span></li><li class="chapter" data-level="5.4.2" data-path="5/5.4.html"><span><b>5.4.2.</b> Implementation</span></li><li class="chapter" data-level="5.4.3" data-path="5/5.4.html"><span><b>5.4.3.</b> Corner cases</span></li></ul></li><li class="chapter" data-level="5.5" data-path="5/5.5.html"><a href="../5/5.5.html"><i class="fa fa-check"></i> <b>5.5.</b> PackageRepository</a><ul class="articles"><li class="chapter" data-level="5.5.1" data-path="5/5.5.html"><a href="../5/5.5.html"><i class="fa fa-check"></i> <b>5.5.1.</b> Overview</a></li><li class="chapter" data-level="5.5.2" data-path="5/5.5.html"><span><b>5.5.2.</b> Capturing Configuration</span></li><li class="chapter" data-level="5.5.3" data-path="5/5.5.html"><span><b>5.5.3.</b> Retrieving Package Revisions</span></li></ul></li><li class="chapter" data-level="5.6"><span><b>5.6.</b> Command Repository</span></li><li class="chapter" data-level="5.7" data-path="5/5.7.html"><a href="../5/5.7.html"><i class="fa fa-check"></i> <b>5.7.</b> Environments</a></li><li class="chapter" data-level="5.8"><span><b>5.8.</b> Templates</span></li><li class="chapter" data-level="5.9"><span><b>5.9.</b> Shine</span><ul class="articles"><li class="chapter" data-level="5.9.1"><span><b>5.9.1.</b> Test Artifact Parser</span></li><li class="chapter" data-level="5.9.2"><span><b>5.9.2.</b> Reporting</span></li><li class="chapter" data-level="5.9.3"><span><b>5.9.3.</b> Stage Graph</span></li></ul></li><li class="chapter" data-level="5.10" data-path="5/5.10.html"><a href="../5/5.10.html"><i class="fa fa-check"></i> <b>5.10.</b> OAuth Gadgets</a></li><li class="chapter" data-level="5.11" data-path="5/5.11.html"><a href="../5/5.11.html"><i class="fa fa-check"></i> <b>5.11.</b> Backup</a></li></ul></li><li class="chapter" data-level="6" data-path="writing_go_plugins/overview.html"><a href="../writing_go_plugins/overview.html"><i class="fa fa-check"></i> <b>6.</b> Writing Go Plugins</a><ul class="articles"><li class="chapter" data-level="6.1" data-path="4/4.4.1.html"><a href="../4/4.4.1.html"><i class="fa fa-check"></i> <b>6.1.</b> Go Plugin Architecture</a></li><li class="chapter" data-level="6.2" data-path="writing_go_plugins/go_plugins_basics.html"><a href="../writing_go_plugins/go_plugins_basics.html"><i class="fa fa-check"></i> <b>6.2.</b> Go Plugin Basics</a></li><li class="chapter" data-level="6.3" data-path="writing_go_plugins/go_plugin_api.html"><a href="../writing_go_plugins/go_plugin_api.html"><i class="fa fa-check"></i> <b>6.3.</b> Go Plugin API</a></li><li class="chapter" data-level="6.4" data-path="writing_go_plugins/json_message_based_plugin_api.html"><a href="../writing_go_plugins/json_message_based_plugin_api.html"><i class="fa fa-check"></i> <b>6.4.</b> JSON message based plugin API</a><ul class="articles"><li class="chapter" data-level="6.4.1" data-path="writing_go_plugins/angular_js_templates_in_go_plugins.html"><a href="../writing_go_plugins/angular_js_templates_in_go_plugins.html"><i class="fa fa-check"></i> <b>6.4.1.</b> Writing AngularJS templates</a></li><li class="chapter" data-level="6.4.2" data-path="writing_go_plugins/handling_web_requests.html"><a href="../writing_go_plugins/handling_web_requests.html"><i class="fa fa-check"></i> <b>6.4.2.</b> Handling Web Requests</a></li><li class="chapter" data-level="6.4.3" data-path="writing_go_plugins/plugin_settings/plugin_settings_overview.html"><a href="../writing_go_plugins/plugin_settings/plugin_settings_overview.html"><i class="fa fa-check"></i> <b>6.4.3.</b> Plugin Settings</a><ul class="articles"><li class="chapter" data-level="6.4.3.1" data-path="writing_go_plugins/plugin_settings/version_1_0/plugin_settings_configuration.html"><a href="../writing_go_plugins/plugin_settings/version_1_0/plugin_settings_configuration.html"><i class="fa fa-check"></i> <b>6.4.3.1.</b> Get Plugin Settings Configuration</a></li><li class="chapter" data-level="6.4.3.2" data-path="writing_go_plugins/plugin_settings/version_1_0/plugin_settings_view.html"><a href="../writing_go_plugins/plugin_settings/version_1_0/plugin_settings_view.html"><i class="fa fa-check"></i> <b>6.4.3.2.</b> Get Plugin Settings View</a></li><li class="chapter" data-level="6.4.3.3" data-path="writing_go_plugins/plugin_settings/version_1_0/validate_plugin_settings.html"><a href="../writing_go_plugins/plugin_settings/version_1_0/validate_plugin_settings.html"><i class="fa fa-check"></i> <b>6.4.3.3.</b> Validate Plugin Settings</a></li></ul></li></ul></li><li class="chapter" data-level="6.5" data-path="writing_go_plugins/go_application_accessor/go_application_accessor.html"><a href="../writing_go_plugins/go_application_accessor/go_application_accessor.html"><i class="fa fa-check"></i> <b>6.5.</b> Go Application Accessor</a><ul class="articles"><li class="chapter" data-level="6.5.1" data-path="writing_go_plugins/go_application_accessor/plugin_settings/plugin_settings.html"><a href="../writing_go_plugins/go_application_accessor/plugin_settings/plugin_settings.html"><i class="fa fa-check"></i> <b>6.5.1.</b> Plugin Settings</a><ul class="articles"><li class="chapter" data-level="6.5.1.1" data-path="writing_go_plugins/go_application_accessor/plugin_settings/version_1_0/get_plugin_settings.html"><a href="../writing_go_plugins/go_application_accessor/plugin_settings/version_1_0/get_plugin_settings.html"><i class="fa fa-check"></i> <b>6.5.1.1.</b> Get Plugin Settings</a></li></ul></li><li class="chapter" data-level="6.5.2" data-path="writing_go_plugins/go_application_accessor/user_session/user_session.html"><a href="../writing_go_plugins/go_application_accessor/user_session/user_session.html"><i class="fa fa-check"></i> <b>6.5.2.</b> User Session</a><ul class="articles"><li class="chapter" data-level="6.5.2.1" data-path="writing_go_plugins/go_application_accessor/user_session/version_1_0/put_into_user_session.html"><a href="../writing_go_plugins/go_application_accessor/user_session/version_1_0/put_into_user_session.html"><i class="fa fa-check"></i> <b>6.5.2.1.</b> Put into Session</a></li><li class="chapter" data-level="6.5.2.2" data-path="writing_go_plugins/go_application_accessor/user_session/version_1_0/get_from_user_session.html"><a href="../writing_go_plugins/go_application_accessor/user_session/version_1_0/get_from_user_session.html"><i class="fa fa-check"></i> <b>6.5.2.2.</b> Get from Session</a></li><li class="chapter" data-level="6.5.2.3" data-path="writing_go_plugins/go_application_accessor/user_session/version_1_0/remove_from_user_session.html"><a href="../writing_go_plugins/go_application_accessor/user_session/version_1_0/remove_from_user_session.html"><i class="fa fa-check"></i> <b>6.5.2.3.</b> Remove from Session</a></li></ul></li><li class="chapter" data-level="6.5.3" data-path="writing_go_plugins/go_application_accessor/user/user.html"><a href="../writing_go_plugins/go_application_accessor/user/user.html"><i class="fa fa-check"></i> <b>6.5.3.</b> Authenticate User</a><ul class="articles"><li class="chapter" data-level="6.5.3.1" data-path="writing_go_plugins/go_application_accessor/user/version_1_0/authenticate_user.html"><a href="../writing_go_plugins/go_application_accessor/user/version_1_0/authenticate_user.html"><i class="fa fa-check"></i> <b>6.5.3.1.</b> Authenticate User</a></li></ul></li></ul></li><li class="chapter" data-level="6.6" data-path="writing_go_plugins/package_material/package_material_plugin_overview.html"><a href="../writing_go_plugins/package_material/package_material_plugin_overview.html"><i class="fa fa-check"></i> <b>6.6.</b> Package material plugins</a><ul class="articles"><li class="chapter" data-level="6.6.1" data-path="writing_go_plugins/package_material/writing_go_package_material_plugin.html"><a href="../writing_go_plugins/package_material/writing_go_package_material_plugin.html"><i class="fa fa-check"></i> <b>6.6.1.</b> Java API based (Deprecated)</a></li><li class="chapter" data-level="6.6.2" data-path="writing_go_plugins/package_material/json_message_based_package_material_extension.html"><a href="../writing_go_plugins/package_material/json_message_based_package_material_extension.html"><i class="fa fa-check"></i> <b>6.6.2.</b> JSON API - Message based</a><ul class="articles"><li class="chapter" data-level="6.6.2.1" data-path="writing_go_plugins/package_material/version_1_0/repository_configuration.html"><a href="../writing_go_plugins/package_material/version_1_0/repository_configuration.html"><i class="fa fa-check"></i> <b>6.6.2.1.</b> Repository Configuration Request</a></li><li class="chapter" data-level="6.6.2.2" data-path="writing_go_plugins/package_material/version_1_0/package_configuration.html"><a href="../writing_go_plugins/package_material/version_1_0/package_configuration.html"><i class="fa fa-check"></i> <b>6.6.2.2.</b> Package Configuration Request</a></li><li class="chapter" data-level="6.6.2.3" data-path="writing_go_plugins/package_material/version_1_0/validate_repository_configuration.html"><a href="../writing_go_plugins/package_material/version_1_0/validate_repository_configuration.html"><i class="fa fa-check"></i> <b>6.6.2.3.</b> Validate Repository Configuration Request</a></li><li class="chapter" data-level="6.6.2.4" data-path="writing_go_plugins/package_material/version_1_0/validate_package_configuration.html"><a href="../writing_go_plugins/package_material/version_1_0/validate_package_configuration.html"><i class="fa fa-check"></i> <b>6.6.2.4.</b> Validate Package Configuration Request</a></li><li class="chapter" data-level="6.6.2.5" data-path="writing_go_plugins/package_material/version_1_0/check_repository_connection.html"><a href="../writing_go_plugins/package_material/version_1_0/check_repository_connection.html"><i class="fa fa-check"></i> <b>6.6.2.5.</b> Check Repository Connection Request</a></li><li class="chapter" data-level="6.6.2.6" data-path="writing_go_plugins/package_material/version_1_0/check_package_connection.html"><a href="../writing_go_plugins/package_material/version_1_0/check_package_connection.html"><i class="fa fa-check"></i> <b>6.6.2.6.</b> Check Repository Connection Request</a></li><li class="chapter" data-level="6.6.2.7" data-path="writing_go_plugins/package_material/version_1_0/latest_revision.html"><a href="../writing_go_plugins/package_material/version_1_0/latest_revision.html"><i class="fa fa-check"></i> <b>6.6.2.7.</b> Latest Revision Request</a></li><li class="chapter" data-level="6.6.2.8" data-path="writing_go_plugins/package_material/version_1_0/latest_revision_since.html"><a href="../writing_go_plugins/package_material/version_1_0/latest_revision_since.html"><i class="fa fa-check"></i> <b>6.6.2.8.</b> Latest Revision Since Request</a></li></ul></li></ul></li><li class="chapter" data-level="6.7" data-path="writing_go_plugins/scm_material/scm_material_plugin_overview.html"><a href="../writing_go_plugins/scm_material/scm_material_plugin_overview.html"><i class="fa fa-check"></i> <b>6.7.</b> SCM material plugins</a><ul class="articles"><li class="chapter" data-level="6.7.1" data-path="writing_go_plugins/scm_material/json_message_based_scm_material_extension.html"><a href="../writing_go_plugins/scm_material/json_message_based_scm_material_extension.html"><i class="fa fa-check"></i> <b>6.7.1.</b> JSON API - Message based</a><ul class="articles"><li class="chapter" data-level="6.7.1.1" data-path="writing_go_plugins/scm_material/version_1_0/scm_configuration.html"><a href="../writing_go_plugins/scm_material/version_1_0/scm_configuration.html"><i class="fa fa-check"></i> <b>6.7.1.1.</b> SCM Configuration Request</a></li><li class="chapter" data-level="6.7.1.2" data-path="writing_go_plugins/scm_material/version_1_0/view.html"><a href="../writing_go_plugins/scm_material/version_1_0/view.html"><i class="fa fa-check"></i> <b>6.7.1.2.</b> SCM View Request</a></li><li class="chapter" data-level="6.7.1.3" data-path="writing_go_plugins/scm_material/version_1_0/validate_scm_configuration.html"><a href="../writing_go_plugins/scm_material/version_1_0/validate_scm_configuration.html"><i class="fa fa-check"></i> <b>6.7.1.3.</b> Validate SCM Configuration Request</a></li><li class="chapter" data-level="6.7.1.4" data-path="writing_go_plugins/scm_material/version_1_0/check_scm_connection.html"><a href="../writing_go_plugins/scm_material/version_1_0/check_scm_connection.html"><i class="fa fa-check"></i> <b>6.7.1.4.</b> Check SCM Connection Request</a></li><li class="chapter" data-level="6.7.1.5" data-path="writing_go_plugins/scm_material/version_1_0/latest_revision.html"><a href="../writing_go_plugins/scm_material/version_1_0/latest_revision.html"><i class="fa fa-check"></i> <b>6.7.1.5.</b> Latest Revision Request</a></li><li class="chapter" data-level="6.7.1.6" data-path="writing_go_plugins/scm_material/version_1_0/latest_revisions_since.html"><a href="../writing_go_plugins/scm_material/version_1_0/latest_revisions_since.html"><i class="fa fa-check"></i> <b>6.7.1.6.</b> Latest Revisions Since Request</a></li><li class="chapter" data-level="6.7.1.7" data-path="writing_go_plugins/scm_material/version_1_0/checkout.html"><a href="../writing_go_plugins/scm_material/version_1_0/checkout.html"><i class="fa fa-check"></i> <b>6.7.1.7.</b> Checkout Request</a></li></ul></li></ul></li><li class="chapter" data-level="6.8" data-path="writing_go_plugins/task/task_plugin_overview.html"><a href="../writing_go_plugins/task/task_plugin_overview.html"><i class="fa fa-check"></i> <b>6.8.</b> Task plugins</a><ul class="articles"><li class="chapter" data-level="6.8.1" data-path="writing_go_plugins/task/writing_go_task_plugins.html"><a href="../writing_go_plugins/task/writing_go_task_plugins.html"><i class="fa fa-check"></i> <b>6.8.1.</b> Java API based (Deprecated)</a></li><li class="chapter" data-level="6.8.2" data-path="writing_go_plugins/task/json_message_based_task_extension.html"><a href="../writing_go_plugins/task/json_message_based_task_extension.html"><i class="fa fa-check"></i> <b>6.8.2.</b> JSON API - Message based</a><ul class="articles"><li class="chapter" data-level="6.8.2.1" data-path="writing_go_plugins/task/version_1_0/configuration.html"><a href="../writing_go_plugins/task/version_1_0/configuration.html"><i class="fa fa-check"></i> <b>6.8.2.1.</b> Task Configuration Request</a></li><li class="chapter" data-level="6.8.2.2" data-path="writing_go_plugins/task/version_1_0/validate.html"><a href="../writing_go_plugins/task/version_1_0/validate.html"><i class="fa fa-check"></i> <b>6.8.2.2.</b> Validate Configuration Request</a></li><li class="chapter" data-level="6.8.2.3" data-path="writing_go_plugins/task/version_1_0/execute.html"><a href="../writing_go_plugins/task/version_1_0/execute.html"><i class="fa fa-check"></i> <b>6.8.2.3.</b> Execute Task Request</a></li><li class="chapter" data-level="6.8.2.4" data-path="writing_go_plugins/task/version_1_0/view.html"><a href="../writing_go_plugins/task/version_1_0/view.html"><i class="fa fa-check"></i> <b>6.8.2.4.</b> Task View Request</a></li></ul></li></ul></li><li class="chapter" data-level="6.9" data-path="writing_go_plugins/notification/notification_plugin_overview.html"><a href="../writing_go_plugins/notification/notification_plugin_overview.html"><i class="fa fa-check"></i> <b>6.9.</b> Notification plugins</a><ul class="articles"><li class="chapter" data-level="6.9.1" data-path="writing_go_plugins/notification/json_message_based_notification_extension.html"><a href="../writing_go_plugins/notification/json_message_based_notification_extension.html"><i class="fa fa-check"></i> <b>6.9.1.</b> JSON API - Message based</a><ul class="articles"><li class="chapter" data-level="6.9.1.1" data-path="writing_go_plugins/notification/version_1_0/notifications_interested_in.html"><a href="../writing_go_plugins/notification/version_1_0/notifications_interested_in.html"><i class="fa fa-check"></i> <b>6.9.1.1.</b> Notifications Interested In</a></li><li class="chapter" data-level="6.9.1.2" data-path="writing_go_plugins/notification/version_1_0/stage_status_notification.html"><a href="../writing_go_plugins/notification/version_1_0/stage_status_notification.html"><i class="fa fa-check"></i> <b>6.9.1.2.</b> Stage Status Change Notification</a></li></ul></li></ul></li><li class="chapter" data-level="6.10" data-path="writing_go_plugins/authentication/authentication_plugin_overview.html"><a href="../writing_go_plugins/authentication/authentication_plugin_overview.html"><i class="fa fa-check"></i> <b>6.10.</b> Authentication plugins</a><ul class="articles"><li class="chapter" data-level="6.10.1" data-path="writing_go_plugins/authentication/json_message_based_authentication_extension.html"><a href="../writing_go_plugins/authentication/json_message_based_authentication_extension.html"><i class="fa fa-check"></i> <b>6.10.1.</b> JSON API - Message based</a><ul class="articles"><li class="chapter" data-level="6.10.1.1" data-path="writing_go_plugins/authentication/version_1_0/plugin_configuration.html"><a href="../writing_go_plugins/authentication/version_1_0/plugin_configuration.html"><i class="fa fa-check"></i> <b>6.10.1.1.</b> Plugin Configuration</a></li><li class="chapter" data-level="6.10.1.2" data-path="writing_go_plugins/authentication/version_1_0/authenticate_user.html"><a href="../writing_go_plugins/authentication/version_1_0/authenticate_user.html"><i class="fa fa-check"></i> <b>6.10.1.2.</b> Authenticate User</a></li><li class="chapter" data-level="6.10.1.3" data-path="writing_go_plugins/authentication/version_1_0/search_user.html"><a href="../writing_go_plugins/authentication/version_1_0/search_user.html"><i class="fa fa-check"></i> <b>6.10.1.3.</b> Search User</a></li></ul></li></ul></li><li class="chapter" data-level="6.11" data-path="writing_go_plugins/task/angular_js_templates_in_go_plugins.html"><span><b>6.11.</b> Angular JS templates in Go plugins</span></li></ul></li><li class="chapter" data-level="7" data-path="7/7.1.html"><a href="../7/7.1.html"><i class="fa fa-check"></i> <b>7.</b> CD in practice</a><ul class="articles"><li class="chapter" data-level="7.1" data-path="7/7.1.html"><a href="../7/7.1.html"><i class="fa fa-check"></i> <b>7.1.</b> Build Go Using Go</a></li><li class="chapter" data-level="7.2" data-path="7/7.2.html"><a href="../7/7.2.html"><i class="fa fa-check"></i> <b>7.2.</b> Test Infrastructure</a><ul class="articles"><li class="chapter" data-level="7.2.1" data-path="7/7.2.html"><span><b>7.2.1.</b> Rails specs using RSpec</span></li><li class="chapter" data-level="7.2.2" data-path="7/7.2.html"><span><b>7.2.2.</b> Java testing using JUnit</span></li><li class="chapter" data-level="7.2.3" data-path="7/7.2.html"><span><b>7.2.3.</b> Javascript testing using JsUnit Tests</span></li><li class="chapter" data-level="7.2.4" data-path="7/7.2.html"><span><b>7.2.4.</b> Acceptance &amp; Regression tests using Twist</span><ul class="articles"><li class="chapter" data-level="7.2.4.1" data-path="7/7.2.html"><span><b>7.2.4.1.</b> Performance Tests</span></li></ul></li><li class="chapter" data-level="7.2.5" data-path="7/7.2.html"><span><b>7.2.5.</b> Test Parallelization</span></li></ul></li><li class="chapter" data-level="7.3"><span><b>7.3.</b> Continuous Deployment</span></li></ul></li><li class="chapter" data-level="8" data-path="8/8.1.html"><a href="../8/8.1.html"><i class="fa fa-check"></i> <b>8.</b> Miscellaneous</a><ul class="articles"><li class="chapter" data-level="8.1" data-path="8/8.1.html"><a href="../8/8.1.html"><i class="fa fa-check"></i> <b>8.1.</b> Technical Debt</a></li></ul></li><li class="divider"></li><li><a href="https://www.gitbook.com" target="blank" class="gitbook-link">Published with GitBook</a></li></ul></div><div class="book-body"><div class="body-inner"><div class="book-header"><a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a> <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a><div id="font-settings-wrapper" class="dropdown pull-left"><a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i></a><div class="dropdown-menu font-settings"><div class="dropdown-caret"><span class="caret-outer"></span> <span class="caret-inner"></span></div><div class="buttons"><button type="button" id="reduce-font-size" class="button size-2">A</button> <button type="button" id="enlarge-font-size" class="button size-2">A</button></div><div class="buttons font-family-list"><button type="button" data-font="0" class="button">Serif</button> <button type="button" data-font="1" class="button">Sans</button></div><div class="buttons color-theme-list"><button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button> <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button> <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button></div></div></div><div class="dropdown pull-right"><a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i></a><div class="dropdown-menu font-settings dropdown-left"><div class="dropdown-caret"><span class="caret-outer"></span> <span class="caret-inner"></span></div><div class="buttons"><button type="button" data-sharing="twitter" class="button">Share on Twitter</button> <button type="button" data-sharing="google-plus" class="button">Share on Google</button> <button type="button" data-sharing="facebook" class="button">Share on Facebook</button> <button type="button" data-sharing="weibo" class="button">Share on Weibo</button> <button type="button" data-sharing="instapaper" class="button">Share on Instapaper</button></div></div></div><a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a> <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a> <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a><h1><i class="fa fa-circle-o-notch fa-spin"></i> <a href="../">Go Developer Documentation</a></h1></div><div class="page-wrapper" tabindex="-1"><div class="page-inner"><section class="normal" id="section-"><h2 id="4-3-go-agent"><a name="4-3-go-agent" class="plugin-anchor" href="#4-3-go-agent"><span class="fa fa-link"></span></a>4.3 Go Agent</h2><h3 id="-a-name-agent-overview-a-4-3-1-overview"><a name="-a-name-agent-overview-a-4-3-1-overview" class="plugin-anchor" href="#-a-name-agent-overview-a-4-3-1-overview"><span class="fa fa-link"></span></a><a name="agent-overview"></a>4.3.1 Overview</h3><p>Go Agent is the component of Go which runs the jobs given to it by the Go Server. An Agent comprises of 3 parts, the Agent Bootstrapper, the Agent Launcher and the Agent itself.</p><p><img src="images/agent_overview.png" alt="Agent Overview"></p><h3 id="-a-name-agent-bootstrapper-a-4-3-2-bootstrapper"><a name="-a-name-agent-bootstrapper-a-4-3-2-bootstrapper" class="plugin-anchor" href="#-a-name-agent-bootstrapper-a-4-3-2-bootstrapper"><span class="fa fa-link"></span></a><a name="agent-bootstrapper"></a>4.3.2 Bootstrapper</h3><p>The bootstrapper is the only component of a Go agent that requires a manual upgrade, therefore its code is kept to a bare minimum to avoid this manual upgrade.</p><p>A new installation of an agent has only the agent-bootstrapper.jar. When you start an agent, it essentially starts the agent-bootstrapper.jar, which does the following:</p><ol><li>Facilitate the automatic upgrade of the agent-launcher.</li><li>Launches the agent-launcher.</li><li>If at any point the launcher process is killed, the bootstrapper re-launches it as long as the boostrapper process is still running.</li></ol><p><strong>How does the bootstrapper facilitate automatic upgrade of the launcher and launch it?</strong></p><p>The agent-launcher.jar is packaged inside the agent-bootstrapper.jar. When the bootstrapper starts, it starts the launcher by doing the following:</p><ol><li>Creates a temporary launcher jar, with the format [UUID]agent-launcher.jar, by copying over the agent-launcher.jar.</li><li>Reads the values of specific keys from <code>MANIFEST.MF</code> of the agent-launcher.jar. This is done to determine which class needs to be launched from the Launcher.</li><li>Gets the <code>AgentLauncher</code> class.</li><li>Launches the launcher by calling the launch method on the <code>AgentLauncher</code> class.</li></ol><p>This agent is launched this way inorder to prevent the launcher from being launched as a separate java process while still maintaining it as a component on its own.</p><p>The bootstrapper logs to go-agent-bootstrapper.log file.</p><h3 id="-a-name-agent-launcher-a-4-3-3-launcher"><a name="-a-name-agent-launcher-a-4-3-3-launcher" class="plugin-anchor" href="#-a-name-agent-launcher-a-4-3-3-launcher"><span class="fa fa-link"></span></a><a name="agent-launcher"></a>4.3.3 Launcher</h3><p>Once the launcher is launched, it does the following:</p><ol><li>Creates a lockfile. The purpose of the lockfile is to prevent multiple instances of the bootstrapper from being launched using the same agent-bootstrapper.jar, i.e., if you want to run two agents on the same box, they should not be started in the same location as it would interfere with the working of the agents.</li><li>Checks to see if a new version of the agent-launcher.jar is available. This is done by comparing the <code>md5</code> checksum of the agent-launcher.jar present locally with the agent-launcher.jar on the Go Server. If the launcher is upgrades itself, it returns and it is then restarted by the bootstrapper.</li><li>Downloads the agent.jar from the Go server if required. It then starts the agent by determining the starting point of the agent, <code>AgentProcessParentImpl</code>, by reading specific keys from <code>MANIFEST.MF</code> of the agent.jar and starting it.</li></ol><p>The launcher allows for the automatic upgradation of the agent without manual intervention.</p><p>The agent launcher logs to the go-agent-launcher.log file.</p><h3 id="-a-name-agent-a-4-3-4-agent"><a name="-a-name-agent-a-4-3-4-agent" class="plugin-anchor" href="#-a-name-agent-a-4-3-4-agent"><span class="fa fa-link"></span></a><a name="agent"></a>4.3.4 Agent</h3><p>The agent is responsible for running a job given to it by the server.</p><p>The starting point for an agent is the <code>AgentProcessParentImpl</code>. At this point three things happen, agent is downloaded if required (this is done twice - once in the launcher and once at this point, this is to maintain backward compatibility with agents prior to version 2.3, where the launcher module was not present), plugins are downloaded if required, and the agent.jar is launched as a separate java process.</p><p>Agents are uniquely identified by the server based on their UUID. Information about all agent instances are stored in-memory on the go server.</p><p>At any given time, an agent has to be in one of the following states:</p><ol><li>Pending - until an adminitrator enables it for the very first time and that&apos;s how agent details come into the config.</li><li>Idle - when it is not running any jobs.</li><li>Preparing - when it is preparing to run the job given to it by the server, for example - checking out the source code.</li><li>Building - when it is running the job given to it by the server.</li><li>Lost Contact - if it does not ping the server for more than 5 minutes.</li><li>Missing - if the agent is restarted when an agent is in the lost contact state.</li><li>Disabled - when an agent is disabled manually by an administrator.</li></ol><p>An agent has 3 threads running as part of it:</p><ol><li>Ping Thread - runs every 5 seconds, to inform the server that the agent is alive. It also informs the server of the agents runtime information.</li><li>Loop/Worker Thread - The first time an agent comes up, the loop thread, which runs every 10 seconds, registers it with the server. Once this is done, it checks for agent upgrade and also retrieves work from the server.</li><li>Instruction Execution Thread - which runs every 10 seconds to check if the server has issued a job cancel instruction. A separate thread is maintained as a job cancel instruction is an asynchronous action, it might occur at any time and hence, it has to be monitored constantly.</li></ol><h4 id="4-3-4-1-upgrade"><a name="4-3-4-1-upgrade" class="plugin-anchor" href="#4-3-4-1-upgrade"><span class="fa fa-link"></span></a>4.3.4.1 Upgrade</h4><p>In most situations, the Go agent services keep running while the server is upgraded. The loop thread checks to see if the agent needs to be upgraded every time it runs. So, the first time the loop thread contacts the server after a server upgrade, it realizes that the agent needs to be upgraded. The agent kills itself as a result of this. The agent launcher then upgrades and restarts the agent.</p><h4 id="4-3-4-2-initialization"><a name="4-3-4-2-initialization" class="plugin-anchor" href="#4-3-4-2-initialization"><span class="fa fa-link"></span></a>4.3.4.2 Initialization</h4><p>Agent initialization happens through Spring. The first time the AgentController bean is initialized, it creates the following:</p><ol><li>Pipelines folder - the location where the agent will check out the source code to run the jobs on.</li><li>Secure Socket Layer (SSL) Infratstucture - communication infrastructure that an agent uses to communicate with the server.</li><li>Global Unique Identifier (GUID) - with which the agent identifies itself with the server. As part of this procces the GUID of the agent is stored in the guid.txt, present under the config folder of the agent working directory.</li></ol><p>The initial communication, up until registration, between the server and agent happens over HTTP. Once the registration is complete, the communication between the server and agent happens over HTTPS.</p><h4 id="4-3-4-3-registration"><a name="4-3-4-3-registration" class="plugin-anchor" href="#4-3-4-3-registration"><span class="fa fa-link"></span></a>4.3.4.3 Registration</h4><p>Registration of the agent with the server happens when the loop thread is first initialized. Since, a number of agents can contact the server at the same time, the registration process might not be successful the very first time itself. So, the agent keeps trying to register itself every 10 seconds until it is successful.</p><p><em>Agent Side</em></p><pre><code>loop_thread()
    agent_registration()
    setup_ssl_infrastructure()
    retrieve_agent_cookie()
end
</code></pre><p>Registration of the agent involves setting up the following:</p><ol><li>Agent Certificate.</li><li>Agent Trust Store.</li><li>Agent Cookie.</li><li>SSL infratructure between the server and agent.</li></ol><p>Once the agent requests registration form the server, the server does the following:</p><p><em>Server Side</em></p><pre><code>registration_request_from_agent()
    auto_register_agent_if_required()
    allAgentInstances.registerNewAgent()
    assign_certification()
end

assign_certification()
    assign_agent_x509_certificate
    assign_agent_trust_store
end
</code></pre><p>When an agent is initially registered with the server, it is in the pending state until a Go administrator manually enables the agent. This is mainly done to prevent malicious agents from automatically enabling themselves on the server.</p><p><strong>Auto Registering Agents</strong></p><p>In the case where you want to enable an agent automatically with the server, you can do so by creating the agent-registration.properties file. Through this file you can specify which resources and environments the agent belongs to. When the agent initially tries to register itself with the server, the server checks to see if the incoming request has an agent-registration.properties file <code>auto_register_agent_if_required()</code>, if so then it sets up the agent with the resources and environments specified in this file. The agent will be in the enabled state after this.</p><h4 id="4-3-4-4-retrieve-build-work"><a name="4-3-4-4-retrieve-build-work" class="plugin-anchor" href="#4-3-4-4-retrieve-build-work"><span class="fa fa-link"></span></a>4.3.4.4 Retrieve &amp; Build Work</h4><p>Once the agent is enabled on the server, it is by default in the &quot;idle&quot; state, indicating that the agent is not doing any work. The loop thread then requests the server for work.</p><p><em>Server Side</em></p><pre><code>getWork()
    if_agent_has_not_been_assigned_work_yet_then
        idleAgentsTopic.post(agent_idle_details)
        return_no_work
    else_if_agent_is_assigned_work
        return_work
end
</code></pre><p>A listener, i.e., the <code>WorkFinder</code>, is registered on the IdleAgentsTopic queue, so when an idle agent detail is added to this queue the following happens:</p><p><em>Server Side</em></p><pre><code>assignWork()
    buildAssignmentService.assignWork(agent_details)
</code></pre><p>Once the server assigns work to the agent, this work is picked up by the agent the next time the loop thread contacts the server, which is 10 seconds later. As such, a <code>JobPlan</code> is provided to the agent, this is a copy of the job that has been configured on the server.</p><p>The agent then goes into the &quot;Preparing&quot; state while it is preparing to run the job. It then goes into the &quot;Building&quot; state once it begins to run the job, which happens through <code>BuildWork</code>.</p><p>The agent communicates its entire transition, from being assigned a job to completing the job, constantly with the server through the <code>GoPublisher</code>. The output of the task being run is contantly updated in the go-agent.log through the <code>GoControlLog</code>, and this is the information that is available on the console log of the server for that particular task.</p><p>The agent logs to the go-agent.log file.</p></section></div></div></div><a href="../4/4.2.html" class="navigation navigation-prev" aria-label="Previous page: Go Server"><i class="fa fa-angle-left"></i></a> <a href="../4/4.4.html" class="navigation navigation-next" aria-label="Next page: Common"><i class="fa fa-angle-right"></i></a></div></div><script src="../gitbook/app.js"></script><script src="../gitbook/plugins/gitbook-plugin-ga/plugin.js"></script><script>require(["gitbook"],function(t){var n={fontSettings:{theme:null,family:"sans",size:2},ga:{token:"UA-48357651-1",configuration:"auto"}};t.start(n)});</script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-48357651-1","auto"),ga("send","pageview");</script></body></html>